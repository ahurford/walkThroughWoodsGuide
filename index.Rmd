---
title: "A walk through the woods"
site: bookdown::bookdown_site
output: bookdown::gitbook #bookdown::html_document2
documentclass: book
github-repo: atellezcastr/walkThroughWoodsGuide
description: "Guide a to Walk through woods Assignment"
---

## Getting started and Learning R {-}

If you have not used `R` previously, we recommend that you work through Chapters 1 to 9 of the [Quantitative training guide](https://ahurford.github.io/quant-guide-all-courses/), which includes instructions on how to install `R` on a computer.

## Assignment Guide {-}

Let's explore the data!

1.  It is best to make a folder on your computer Desktop where you will work on this assignment (if needed, review [Best Practices](https://ahurford.github.io/quant-guide-all-courses/style.html)).

2.  Download the file `woods.csv` (from the course BrightSpace) to the folder you made.

3.  [Open and save a new R Script](https://ahurford.github.io/quant-guide-all-courses/rstudio.html#source-pane%5D) your folder. One of the first commands of your R Script will be to [load your data](https://ahurford.github.io/quant-guide-all-courses/data-entry.html#loading-or-importing-data). For example:

```{r}
data1 <- read.csv(file = "woods.csv")
```

4.  In the [Console](https://ahurford.github.io/quant-guide-all-courses/rstudio.html#console-pane), inspect your data to check that it has loaded. For example:

```{r, results=FALSE}
head(data1)
```

If your data has not loaded, the most likely problem is a spelling error or problems with specifying the [path](https://ahurford.github.io/quant-guide-all-courses/rintro.html#working-directory) to `woods.csv`. You might try:

-   the [RStudio way](https://ahurford.github.io/quant-guide-all-courses/data-entry.html#the-rstudio-way-the-import-feature) of importing your data, or

-   moving `woods.csv` to your [working directory](https://ahurford.github.io/quant-guide-all-courses/data-entry.html#the-rstudio-way-the-import-feature).

5.  After importing the data into R, read through the metadata file (below) to better understand the data.

> **Metadata Overview** Original Article Data used in this exerise originates from a Zanne, A. E., et al. (2010) study. The full article reference can be found below.
>
> **Columns in the data frame**
>
> Column 1: Family - The taxonomic family of the plant
>
> Column 2: Binomial - Refers to the genus and species for each plant
>
> Column 3: Amm - Average cross-sectional vessel area (in $mm^2$)
>
> Column 4: Nnn - Number of vessels per unit cross section area (in $mm^2$)
>
> Column 5: F - (F = $\frac{Amm^2}{Nmm^2}$ Fraction of cross sectional area that is in vessels (in $mm^2/mm^2$)
>
> Column 6: logA - log10 transformation of Amm (in $mm^2$)
>
> Column 7: logN - log10 transformation of Nmm (in $mm^2$)
>
> Column 8: logF - log10 transformation of F (in $\frac{Amm^2}{Nmm^2}$
>
> Column 9: Dens - Wood density measurement
>
> Column 10: AbsLat - Average of the absolute value of latitude (in degrees)
>
> **Reference**
>
> Zanne, A. E., Westoby, M., Falster, D. S., Ackerly, D. D., Loarie, S. R., Arnold, S. E. J., & Coomes, D. A. (2010). Angiosperm wood structure: Global patterns in vessel anatomy and their relation to wood density and potential conductivity. American Journal of Botany, 97(2), 207--215. <https://doi.org/10.3732/ajb.0900178>

```{r}
head(data1)
```

6.  You will want to do some exploration of your data. See [Handling the data](https://ahurford.github.io/quant-guide-all-courses/data-entry.html#handling-the-data) for how to recover the names of the columns for all the data.

```{r}
names(data1)
```

7.  It is now helpful to think about the data given your knowledge of Botany. Do you hypothesize a relationship between the data in any of the columns? You might start investigating your hypotheses by making a plot, for example, showing the `Average cross-sectional vessel area` and `the number of vessels`. To extract a column of the data, see [Handling the data](https://ahurford.github.io/quant-guide-all-courses/data-entry.html#handling-the-data).

For the `Average cross sectional vessel area`, in the `Console`, try:

```{r, results=FALSE}
data1$Amm
```

Be sure to type exactly `Amm` after the `$`. Try making your plot:

```{r}
plot(data1$N.mm,data1$A.mm, pch = 19, xlab = "Average cross sectional vessel area", ylab = "Number of vessels per unit cross sectional area", col="blue")
```

You need to write the column names precisely as they appear in the output of `names(data1)` or RStudio will produce an error.

8.  Can you make a plot of different variables, for example, `Wood density` and `Average of the absolute value of latitude`?

9.  What happens if you type `plot(data1$Family, data1$Binomial)` in the `Console`? Why is this not a very sensible choice for something to plot?

10. To analyze the relation between variables we can use the `cor(x,y,method = "pearson")` function.

## Sample with t.test {#t.test}

A one sample test of means compares the mean of one sample to another sample or a pre-specified value and tests for a deviation from that value. More information can be found under [10. Statistics in R] (<https://ahurford.github.io/quant-guide-all-courses/statistics.html>) of the [Quantitative Guide](https://ahurford.github.io/quant-guide-all-courses/).

</br>

This section will give a brief overview of how to perform a sample t-test to compare the average cross-sectional vessel area between tall and short plants.

1.  First, produce two variables that contain the two categories of plants you want to investigate.

-   Tall (Average plant height greater than 3 meters)

```{r, results=F}
cat1 <-data1[0:10,0:3]
head(cat1)
```

-   Short (Average plant height less than 3 meters)

```{r, results=F}
cat2 <- data1[11:20,0:3]
head(cat2)
```

2.  After creating two variables that contain the two groups, calculate the means and the standard deviations of both groups.

```{r, results=F}
mean1 <- mean(cat1[,3])
mean2 <- mean(cat2[,3])

sd1 <- sd(cat1[,3])
sd2 <- sd(cat2[,3])
```

3.  Once you've calculated the mean and standard deviation of the two groups, plot the results to compare the two groups.

```{r}
barplot(c(mean1,mean2), names.arg = c('cat1','cat2'), main ="Average cross sectional vessel area", ylim = c(0,0.0125), col = c('blue','blue'))
```

This method can be helpful to visualize the difference between two groups but challenging to determine if the groups are significantly different or not due to random chance.

4.  Performing a t-test allows us to determine if the groups are statistically different and measures the probability that an observed difference could have occurred just by random chance. Here, we want to evaluate $\alpha = 0.05$, indicating that we are comfortable with a 5% risk of concluding a difference exists when there is no difference. If our p-value is greater than $\alpha$, both means are not statistically different (based on the datasets). Although, if the p-value is less than $\alpha$ then both means are statistically different:

```{r}
t.test(cat1[,3], cat2[,3], alternative = 'two.sided',paired = TRUE)
```

From the output above, we see that the $p-value = 0.9589$, indicating that there is not a statistical difference in the average cross sectional vessel area between tall and short plants. Therefore, we can accept the null hypothesis that there is no difference in vessel area between tall and short plants.

More information about [t.tests](https://ahurford.github.io/quant-guide-all-courses/statistics.html#t.test) are within the [Statistics in R](https://ahurford.github.io/quant-guide-all-courses/statistics.html) section of the [Quantitative Skills for Biology guide](https://ahurford.github.io/quant-guide-all-courses/).
